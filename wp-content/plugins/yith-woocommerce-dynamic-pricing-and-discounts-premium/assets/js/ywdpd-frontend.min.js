jQuery(function(y){"use strict";var e=y(ywdpd_qty_args.column_product_info_class).find(ywdpd_qty_args.product_price_classes).html(),a=function(){var t;"yes"==ywdpd_qty_args.is_default_qty_enabled&&(t=y(document).find("#ywdpd-table-discounts"),("yes"===ywdpd_qty_args.show_minimum_price?t.find("td.qty-price-info").last():t.find("td.qty-price-info").first()).click())},i=function(t){var d=t.html(),a="*"!=t.data("qtymax")?t.data("qtymax"):t.data("qtymin"),i=t.closest(ywdpd_qty_args.column_product_info_class).find(ywdpd_qty_args.product_qty_classes),n=t.closest(ywdpd_qty_args.column_product_info_class).find(ywdpd_qty_args.product_price_classes),e=n.find("del").length?n.find("del").html():"",s=t.index(),c=!1;y("td").removeClass("ywdpd_qty_active"),c="horizontal"===ywdpd_qty_args.template?(c=y(document).find("#ywdpd-table-discounts td.qty-info").get(s-1),y(c)):t.parent().find("td.qty-info"),t.addClass("ywdpd_qty_active"),c&&y(c).addClass("ywdpd_qty_active"),i.val(a),n.html("<del>"+e+"</del> "+d)};y(document).on("click","#ywdpd-table-discounts td.qty-price-info",function(t){var d=y(this);i(d)}),y(document).on("click","#ywdpd-table-discounts td.qty-info",function(t){!function(t){var d=t.index();y("td.qty-info").removeClass("ywdpd_qty_active"),t.addClass("ywdpd_qty_active");var a=!1;(a="horizontal"===ywdpd_qty_args.template?(a=y(document).find("#ywdpd-table-discounts td.qty-price-info").get(d-1),y(a)):t.parent().find("td.qty-price-info"))&&i(a)}(y(this))}),y(document).on("change","form.cart .qty",function(t){var d,a,i,n;y(document).find("#ywdpd-table-discounts").length&&"yes"==ywdpd_qty_args.is_change_qty_enabled&&(d=y(this).val(),n=i=!1,y("#ywdpd-table-discounts td.qty-info").removeClass("ywdpd_qty_active"),y("#ywdpd-table-discounts td.qty-price-info").removeClass("ywdpd_qty_active"),"horizontal"===ywdpd_qty_args.template?(i=y("#ywdpd-table-discounts").find("td.qty-info").filter(function(){return"*"!==y(this).data("qtymax")?y(this).data("qtymin")<=d&&y(this).data("qtymax")>=d:y(this).data("qtymin")<=d})).length?(a=i.index(),n=y("#ywdpd-table-discounts td.qty-price-info").get(a-1),n=y(n)):i=!1:i=!!(n=y("#ywdpd-table-discounts").find("td.qty-price-info").filter(function(){return"*"!==y(this).data("qtymax")?y(this).data("qtymin")<=d&&y(this).data("qtymax")>=d:y(this).data("qtymin")<=d})).length&&n.parent().find("td.qty-info"),i?(i.addClass("ywdpd_qty_active"),n.addClass("ywdpd_qty_active"),i=(a=n.closest(ywdpd_qty_args.column_product_info_class).find(ywdpd_qty_args.product_price_classes)).find("del").length?a.find("del").html():"",n=n.html(),a.html("<del>"+i+"</del> "+n)):(y("ywdpd-table-discounts").find("tr,td").removeClass("ywdpd_qty_active"),y(ywdpd_qty_args.column_product_info_class).find(ywdpd_qty_args.product_price_classes).html(e)))});var t=y('[name|="product_id"]'),d=(t.val(),y('[name|="variation_id"]')),t=t.closest("form"),n=y(".ywdpd-table-discounts-wrapper");if(y(document).on("found_variation",t,function(t,d){y(".ywdpd-table-discounts-wrapper").replaceWith(d.table_price),a()}),!d.length)return a(),!1;d.on("change",function(){""==y(this).val()&&y(".ywdpd-table-discounts-wrapper").replaceWith(n)})});